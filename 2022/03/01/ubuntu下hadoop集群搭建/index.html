<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>ubuntu下hadoop集群搭建 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="一.配置ip(三个节点)自ubuntu17之后多了一种配置方式更加高效,也就是netplan 1.1编辑配置文件 1root@master:&#x2F;etc&#x2F;netplan# gedit &#x2F;etc&#x2F;netplan&#x2F;01-network-manager-all.yaml 配置内容如下,注意缩进 1234567891011network:  version: 2  renderer: NetworkManag">
<meta property="og:type" content="article">
<meta property="og:title" content="ubuntu下hadoop集群搭建">
<meta property="og:url" content="http://example.com/2022/03/01/ubuntu%E4%B8%8Bhadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="一.配置ip(三个节点)自ubuntu17之后多了一种配置方式更加高效,也就是netplan 1.1编辑配置文件 1root@master:&#x2F;etc&#x2F;netplan# gedit &#x2F;etc&#x2F;netplan&#x2F;01-network-manager-all.yaml 配置内容如下,注意缩进 1234567891011network:  version: 2  renderer: NetworkManag">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/QQ20220301-220428.png">
<meta property="og:image" content="http://example.com/QQ20220301-220440.png">
<meta property="article:published_time" content="2022-03-01T14:02:18.000Z">
<meta property="article:modified_time" content="2022-03-01T14:22:24.897Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/QQ20220301-220428.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-ubuntu下hadoop集群搭建" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/01/ubuntu%E4%B8%8Bhadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/" class="article-date">
  <time class="dt-published" datetime="2022-03-01T14:02:18.000Z" itemprop="datePublished">2022-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      ubuntu下hadoop集群搭建
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="一-配置ip-三个节点"><a href="#一-配置ip-三个节点" class="headerlink" title="一.配置ip(三个节点)"></a>一.配置ip(三个节点)</h3><p>自ubuntu17之后多了一种配置方式更加高效,也就是netplan</p>
<p>1.1编辑配置文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:/etc/netplan# gedit /etc/netplan/01-network-manager-all.yaml</span><br></pre></td></tr></table></figure>
<p>配置内容如下,<code>注意缩进</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">network:</span><br><span class="line">  version: 2</span><br><span class="line">  renderer: NetworkManager</span><br><span class="line">  ethernets:</span><br><span class="line">     ens33:</span><br><span class="line">       dhcp4:  no</span><br><span class="line">       dhcp6:  no</span><br><span class="line">       addresses:  [192.168.10.101/24]</span><br><span class="line">       gateway4:  192.168.10.1</span><br><span class="line">       nameservers:</span><br><span class="line">         addresses: [8.8.8.8,192.168.10.1]</span><br></pre></td></tr></table></figure>
<p>1.2使配置生效</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:/etc/netplan# netplan apply</span><br></pre></td></tr></table></figure>
<p>如果没有报错则配置成功</p>
<h3 id="配置主机名和主机名映射-三个节点"><a href="#配置主机名和主机名映射-三个节点" class="headerlink" title="配置主机名和主机名映射(三个节点)"></a>配置主机名和主机名映射(三个节点)</h3><p>1.1配置主机名并查看</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">重启后生效</span><br><span class="line">root@master:/etc/netplan# hostnamectl set-hostname master</span><br><span class="line">root@master:/etc/netplan# hostname</span><br></pre></td></tr></table></figure>
<p>1.2配置主机名映射</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:/etc/netplan# gedit /etc/hosts</span><br></pre></td></tr></table></figure>
<p>添加以下内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">192.168.10.101 master</span><br><span class="line">192.168.10.102 slave1</span><br><span class="line">192.168.10.103 slave2</span><br></pre></td></tr></table></figure>
<p>1.3ping测试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">有以下回显证明配置成功</span><br><span class="line">root@master:/etc/netplan# ping slave2</span><br><span class="line">PING slave2 (192.168.10.103) 56(84) bytes of data.</span><br><span class="line">64 bytes from slave2 (192.168.10.103): icmp_seq=1 ttl=64 time=0.891 ms</span><br><span class="line">64 bytes from slave2 (192.168.10.103): icmp_seq=2 ttl=64 time=0.369 ms</span><br><span class="line">64 bytes from slave2 (192.168.10.103): icmp_seq=3 ttl=64 time=0.455 ms</span><br></pre></td></tr></table></figure>
<p>1.4将hosts文件分发给子节点</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:/etc/netplan# scp /etc/hosts root@slave1:/etc/</span><br><span class="line">输入yes再输入密码</span><br></pre></td></tr></table></figure>

<h3 id="三-配置ssh免密登录-三个节点"><a href="#三-配置ssh免密登录-三个节点" class="headerlink" title="三.配置ssh免密登录(三个节点)"></a>三.配置ssh免密登录(三个节点)</h3><p>因为Ubuntu并不自带ssh服务所以要安装ssh并配置允许root远程登录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">下载</span><br><span class="line">sudo apt-get install openssh-server</span><br><span class="line">启动</span><br><span class="line">sudo service ssh start</span><br><span class="line">配置</span><br><span class="line">sudo vim /etc/ssh/sshd_config</span><br><span class="line">添加一条</span><br><span class="line">PermitRootLogin yes</span><br></pre></td></tr></table></figure>
<p>1.生成密钥</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:~# ssh-keygen -t rsa</span><br><span class="line">一直回车</span><br></pre></td></tr></table></figure>
<p>2.将密钥写入authorized.keys文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@master:~# cd .ssh/</span><br><span class="line">root@master:~/.ssh# cat id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>3.在另外两个子节点执行以上操作,并将authorized.keys的内容复制进master主机的authorized.keys文件末尾,成功后如下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/.ssh# cat authorized.keys </span><br><span class="line">ssh-dss AAAAB3NzaC1kc3MAAACBAIzJrAXCuK15C+mq3TkdFFJUJiuY9rMo6L6LoU+naCEKJNKfRDXXAXDcRC2TJK5JqnWHuexfOusYZS/kpRU4JO1S4VGzq446r5QM19c7xH3TkE2A2W2Z9AA/7G+UHzqyHWQ6gDRIsqqsF6MlJUtOO7x3XtNUVYrtIzvUeqTbXrbJAAAAFQCsjTDCWxn2PU5WobBN/xYTxS9vdwAAAIBcM2X2tlkwnmpNcm3a1Cf4addU395AfJfhOwdqacHSCdiaNSlx7kVkd8T1Hk+gvF0KzP4KbjqiGWsGEiaYdlU4Ujrei+VplG8moa4GcCA/wUzpAioeULCP+0+870/+NwFUt7XKhYk9llUrh56LWev5c5YC3aNQ0GzElBxjUj8v4gAAAIBpUWTTkmdeL7ploxSCR56Js0pMFJiGvKP6tMkc3UL5Vwl5RDqJt+eFd31SDVJVVEK3vX06wujOlDbHwdIfpE48y2dN7nRn5bK3ccg1yo7Cq7Vtj4TlODYTkPYxXaR2e8dqW9bg8anXvaCI7AylRwPYNnQIgcjPeC4qJsRuMq4Mag== root@master</span><br><span class="line">ssh-dss AAAAB3NzaC1kc3MAAACBAMxF+Q5Kg1DluBqo0vZKPlE0uB2+1cDTn/f2xN0ug5mYa3WDpC36p8P2iQ4IrZEp7BqFEiQSstbZd+Im4qpaBRlHnWZhym5oOqY2a4JVsrAtyTObYFM/+/eEtQ/0Bl6UxeRKkWWPuZwbtYREEnbJ2VwLzvIJEBDVkZcccY58TO8LAAAAFQC41GJzzSEGbZLDCu2Fgzo3iml/ZQAAAIBpWqD1HHm5gTyp/6h+hCEDMP1cOOl11e+f4ZO+vhpYm+AXqpEbmMr2UTSBlc93PdJRxiIAIKidWmcLaaSuLDYWoeDDcFGCclz9bCoXZmeOVoAe096jyNFPZGorb7mqnif3oRI5hkqsmph2AX/9n90taaLUF5VrgJVEAOPLkjZ+IAAAAIEAsc7MCMYn7phJIACMypSeeWkmjUisRxVEp6u6WWHQ3GsImNkjR7UmFVxnpYOikexsPsbhlXahTIas7SQiPNRsgxi2nDBwauEvkRHQID5LbjFiIp97xbrSg8T0H23MXlBbI/MycFcyuxBIUOL5zSrz8CcUG6uQtLDMGAEVkCHORCU= root@slave1</span><br><span class="line">ssh-dss AAAAB3NzaC1kc3MAAACBANwhno/+fLpWNOg1NOrBQ+qs7XWLZeu+Xxl/g5eJOD9+qaQKTWLOYfgyez38cpqjZ9r39tKRR5HQ7RVlM0tJicGgz+jCdtRoQKs6W5mc3SCmW+u+ILMxxTqdUHUKsNq4NauoVcSduq4ot8HKpi2GBGWE1MCNgCaSnH6TB8tvl49lAAAAFQCnfx5p+/KbSsrlSFo9BYuAhEuI7QAAAIA4lsxJjI3bn/FQsSjzcjIyRLiut432/i/QngE7Y9UwQGXKY9x8z7EksXDpdswo2M2cBSZsrelSnoiUYHjusSfMTptzdT8WUWCutCd7Kn1zU4fPJCM4gTNuECjHaWU/t7BVJXHGkB6eWErcHxnm6iILVLCFf9wm8oPMjRJmLLQGhQAAAIEAkA+YrcoTQfuZbS8ACHN3zkvg1/gAmx26owiZsMrSaV1rbrJ6WgWCX+Ux9CHIkKK4MZrJrXVQpoal5/PEPw0OCZepCHOGVLNcrhyhKNov1EzSC664Mb0l+9bHh+zXjv/X0yrMB1bY16eNMBCnx0YsJ5vuXZtZRg9ms6dEh5eA/LY= root@slave2</span><br></pre></td></tr></table></figure>
<p>4.分发给另外两台子节点</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/.ssh# scp ./authorized.keys root@slave1:/root/.ssh/</span><br><span class="line">root@master:~/.ssh# scp ./authorized.keys root@slave2:/root/.ssh/</span><br></pre></td></tr></table></figure>
<p>5.测试免密登录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh master</span><br><span class="line">ssh slave1</span><br><span class="line">ssh slave2</span><br></pre></td></tr></table></figure>
<h3 id="四-安装jdk"><a href="#四-安装jdk" class="headerlink" title="四.安装jdk"></a>四.安装jdk</h3><p>1.解压</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/jdk/jdk1.8.0_11# tar -zxvf jdk-8u11-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>
<p>2.分发给其余子节点</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp -r /root/software/jdk/jdk1.8.0_11/ root@slave1:/root/software/jdk/</span><br><span class="line">cp -r /root/software/jdk/jdk1.8.0_11/ root@slave2:/root/software/jdk/</span><br></pre></td></tr></table></figure>
<p>3.配置环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/jdk/jdk1.8.0_11# gedit /root/.bashrc </span><br></pre></td></tr></table></figure>
<p>配置如下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">JAVA_HOME</span></span><br><span class="line">export JAVA_HOME=/root/software/jdk/jdk1.8.0_11</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure>
<p>分发给其他节点,也可以直接配置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/jdk/jdk1.8.0_11# scp -r /root/.bashrc root@slave1:/root/</span><br><span class="line">root@master:~/software/jdk/jdk1.8.0_11# scp -r /root/.bashrc root@slave2:/root/</span><br></pre></td></tr></table></figure>
<p>4.刷新环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/jdk/jdk1.8.0_11# source /root/.bashrc </span><br></pre></td></tr></table></figure>
<p>5.测试<br>如下回显则表示成功</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/jdk/jdk1.8.0_11# java -version</span><br><span class="line">java version &quot;1.8.0_11&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_11-b12)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.11-b03, mixed mode)</span><br></pre></td></tr></table></figure>
<h3 id="五-安装hadoop"><a href="#五-安装hadoop" class="headerlink" title="五.安装hadoop"></a>五.安装hadoop</h3><p>1.解压</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop# tar -zxvf hadoop-2.7.3.tar.gz</span><br></pre></td></tr></table></figure>
<p>2.配置环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop# gedit /root/.bashrc </span><br></pre></td></tr></table></figure>
<p>配置如下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">HADOOP_HOME</span></span><br><span class="line">export HADOOP_HOME=/root/software/hadoop/hadoop-2.7.3</span><br><span class="line">export PATH=$HADOOP_HOME/bin:$HADOOP/sbin:$PATH</span><br></pre></td></tr></table></figure>
<p>分发给子节点</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop# scp -r /root/.bashrc root@slave1:/root/</span><br><span class="line">root@master:~/software/hadoop# scp -r /root/.bashrc root@slave2:/root/</span><br></pre></td></tr></table></figure>
<p>刷新环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop# source /root/.bashrc </span><br></pre></td></tr></table></figure>
<p>3.创建hadoopdata目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3# mkdir hadoopdata</span><br></pre></td></tr></table></figure>
<p>4.配置hadoop-env.sh文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# cd etc/hadoop/</span><br><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit hadoop-env.sh </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">找到</span><br><span class="line">export JAVA_HOME=$&#123;JAVA_HOME&#125;</span><br><span class="line">修改为</span><br><span class="line">export JAVA_HOME=/root/software/jdk/jdk1.8.0_11</span><br></pre></td></tr></table></figure>
<p>5.配置yarn-env.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit yarn-env.sh </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">找到</span><br><span class="line"><span class="meta">#</span><span class="language-bash"><span class="built_in">export</span> JAVA_HOME=/home/y/libexec/jdk1.6.0/</span></span><br><span class="line">修改为</span><br><span class="line">export JAVA_HOME=/root/software/jdk/jdk1.8.0_11</span><br></pre></td></tr></table></figure>
<p>6.配置核心组件core-site.xml </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit core-site.xml </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">&lt;value&gt;hdfs://master:9000&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">&lt;value&gt;/root/software/hadoop/hadoop-2.7.3/hadoopdata&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>7.配置配置文件系统hdfs-site.xml</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit hdfs-site.xml </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">	&lt;property&gt;</span><br><span class="line">		&lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;2&lt;/value&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">	&lt;property&gt;</span><br><span class="line">		&lt;name&gt;dfs.namenode.rpc-address&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;master:50071&lt;/value&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>8.配置文件系统yarn-site.xm</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit yarn-site.xm</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">		&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">	&lt;property&gt;</span><br><span class="line">                &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;</span><br><span class="line">                &lt;value&gt;master:18040&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">	&lt;property&gt;                &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;</span><br><span class="line">                &lt;value&gt;master:18030&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">	&lt;property&gt;</span><br><span class="line">                &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;</span><br><span class="line">                &lt;value&gt;master:18025&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">	&lt;property&gt;                &lt;name&gt;yarn.resourcemanager.admin.address&lt;/name&gt;</span><br><span class="line">                &lt;value&gt;master:18141&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">	&lt;property&gt;                &lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;</span><br><span class="line">                &lt;value&gt;master:18088&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>9.配置计算框架mapred-site.xml</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# cp mapred-site.xml.template mapred-site.xml</span><br><span class="line"></span><br><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit mapred-site.xml</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">&lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>10.配置slaves文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit slaves </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">master</span><br><span class="line">slave1</span><br><span class="line">slave2</span><br></pre></td></tr></table></figure>
<p>11.分发给子节点</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# scp -r /root/software/hadoop/hadoop-2.7.3/ root@slave2:/root/software/hadoop/</span><br></pre></td></tr></table></figure>
<p>12.格式化namanode</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# hdfs namenode -format</span><br></pre></td></tr></table></figure>
<p>13.启动hadoop</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">进入sbin目录下执行</span><br><span class="line"></span><br><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/sbin# ./start-all.sh </span><br><span class="line"></span><br><span class="line">执行命令后，提示出入yes/no时，输入yes。</span><br></pre></td></tr></table></figure>
<p>14.测试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/sbin# jps</span><br></pre></td></tr></table></figure>
<p>有以下进程表示搭建成功!</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/sbin# jps</span><br><span class="line">4848 SecondaryNameNode</span><br><span class="line">4999 ResourceManager</span><br><span class="line">4489 NameNode</span><br><span class="line">4650 DataNode</span><br><span class="line">5423 Jps</span><br><span class="line">5135 NodeManager</span><br></pre></td></tr></table></figure>
<p>15.web端查看</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在Master上启动Firefox浏览器，在浏览器地址栏中输入输入http://master:50070/,有如下回显表示成功</span><br></pre></td></tr></table></figure>
<p><img src="/QQ20220301-220428.png"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在Master上启动Firefox浏览器，在浏览器地址栏中输入输入http://master:18088/，检查 Yarn是否正常，页面如下图所示。</span><br></pre></td></tr></table></figure>

<p><img src="/QQ20220301-220440.png"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/01/ubuntu%E4%B8%8Bhadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/" data-id="cl087ype00000vink2cno7ugu" data-title="ubuntu下hadoop集群搭建" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
  
    <a href="/2022/03/01/centos%E4%B8%8Bhadoop%E7%8E%AF%E5%A2%83%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">centos下hadoop环境集群搭建</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/01/ubuntu%E4%B8%8Bhadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/">ubuntu下hadoop集群搭建</a>
          </li>
        
          <li>
            <a href="/2022/03/01/centos%E4%B8%8Bhadoop%E7%8E%AF%E5%A2%83%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/">centos下hadoop环境集群搭建</a>
          </li>
        
          <li>
            <a href="/2022/03/01/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>