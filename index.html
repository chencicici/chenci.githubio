<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://example.com/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://example.com"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-ubuntu下hadoop集群搭建" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/01/ubuntu%E4%B8%8Bhadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/" class="article-date">
  <time class="dt-published" datetime="2022-03-01T14:02:18.000Z" itemprop="datePublished">2022-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/01/ubuntu%E4%B8%8Bhadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/">ubuntu下hadoop集群搭建</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="一-配置ip-三个节点"><a href="#一-配置ip-三个节点" class="headerlink" title="一.配置ip(三个节点)"></a>一.配置ip(三个节点)</h3><p>自ubuntu17之后多了一种配置方式更加高效,也就是netplan</p>
<p>1.1编辑配置文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:/etc/netplan# gedit /etc/netplan/01-network-manager-all.yaml</span><br></pre></td></tr></table></figure>
<p>配置内容如下,<code>注意缩进</code></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">network:</span><br><span class="line">  version: 2</span><br><span class="line">  renderer: NetworkManager</span><br><span class="line">  ethernets:</span><br><span class="line">     ens33:</span><br><span class="line">       dhcp4:  no</span><br><span class="line">       dhcp6:  no</span><br><span class="line">       addresses:  [192.168.10.101/24]</span><br><span class="line">       gateway4:  192.168.10.1</span><br><span class="line">       nameservers:</span><br><span class="line">         addresses: [8.8.8.8,192.168.10.1]</span><br></pre></td></tr></table></figure>
<p>1.2使配置生效</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:/etc/netplan# netplan apply</span><br></pre></td></tr></table></figure>
<p>如果没有报错则配置成功</p>
<h3 id="配置主机名和主机名映射-三个节点"><a href="#配置主机名和主机名映射-三个节点" class="headerlink" title="配置主机名和主机名映射(三个节点)"></a>配置主机名和主机名映射(三个节点)</h3><p>1.1配置主机名并查看</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">重启后生效</span><br><span class="line">root@master:/etc/netplan# hostnamectl set-hostname master</span><br><span class="line">root@master:/etc/netplan# hostname</span><br></pre></td></tr></table></figure>
<p>1.2配置主机名映射</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:/etc/netplan# gedit /etc/hosts</span><br></pre></td></tr></table></figure>
<p>添加以下内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">192.168.10.101 master</span><br><span class="line">192.168.10.102 slave1</span><br><span class="line">192.168.10.103 slave2</span><br></pre></td></tr></table></figure>
<p>1.3ping测试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">有以下回显证明配置成功</span><br><span class="line">root@master:/etc/netplan# ping slave2</span><br><span class="line">PING slave2 (192.168.10.103) 56(84) bytes of data.</span><br><span class="line">64 bytes from slave2 (192.168.10.103): icmp_seq=1 ttl=64 time=0.891 ms</span><br><span class="line">64 bytes from slave2 (192.168.10.103): icmp_seq=2 ttl=64 time=0.369 ms</span><br><span class="line">64 bytes from slave2 (192.168.10.103): icmp_seq=3 ttl=64 time=0.455 ms</span><br></pre></td></tr></table></figure>
<p>1.4将hosts文件分发给子节点</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:/etc/netplan# scp /etc/hosts root@slave1:/etc/</span><br><span class="line">输入yes再输入密码</span><br></pre></td></tr></table></figure>

<h3 id="三-配置ssh免密登录-三个节点"><a href="#三-配置ssh免密登录-三个节点" class="headerlink" title="三.配置ssh免密登录(三个节点)"></a>三.配置ssh免密登录(三个节点)</h3><p>因为Ubuntu并不自带ssh服务所以要安装ssh并配置允许root远程登录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">下载</span><br><span class="line">sudo apt-get install openssh-server</span><br><span class="line">启动</span><br><span class="line">sudo service ssh start</span><br><span class="line">配置</span><br><span class="line">sudo vim /etc/ssh/sshd_config</span><br><span class="line">添加一条</span><br><span class="line">PermitRootLogin yes</span><br></pre></td></tr></table></figure>
<p>1.生成密钥</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:~# ssh-keygen -t rsa</span><br><span class="line">一直回车</span><br></pre></td></tr></table></figure>
<p>2.将密钥写入authorized.keys文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@master:~# cd .ssh/</span><br><span class="line">root@master:~/.ssh# cat id_rsa.pub &gt;&gt; authorized_keys</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>3.在另外两个子节点执行以上操作,并将authorized.keys的内容复制进master主机的authorized.keys文件末尾,成功后如下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/.ssh# cat authorized.keys </span><br><span class="line">ssh-dss AAAAB3NzaC1kc3MAAACBAIzJrAXCuK15C+mq3TkdFFJUJiuY9rMo6L6LoU+naCEKJNKfRDXXAXDcRC2TJK5JqnWHuexfOusYZS/kpRU4JO1S4VGzq446r5QM19c7xH3TkE2A2W2Z9AA/7G+UHzqyHWQ6gDRIsqqsF6MlJUtOO7x3XtNUVYrtIzvUeqTbXrbJAAAAFQCsjTDCWxn2PU5WobBN/xYTxS9vdwAAAIBcM2X2tlkwnmpNcm3a1Cf4addU395AfJfhOwdqacHSCdiaNSlx7kVkd8T1Hk+gvF0KzP4KbjqiGWsGEiaYdlU4Ujrei+VplG8moa4GcCA/wUzpAioeULCP+0+870/+NwFUt7XKhYk9llUrh56LWev5c5YC3aNQ0GzElBxjUj8v4gAAAIBpUWTTkmdeL7ploxSCR56Js0pMFJiGvKP6tMkc3UL5Vwl5RDqJt+eFd31SDVJVVEK3vX06wujOlDbHwdIfpE48y2dN7nRn5bK3ccg1yo7Cq7Vtj4TlODYTkPYxXaR2e8dqW9bg8anXvaCI7AylRwPYNnQIgcjPeC4qJsRuMq4Mag== root@master</span><br><span class="line">ssh-dss AAAAB3NzaC1kc3MAAACBAMxF+Q5Kg1DluBqo0vZKPlE0uB2+1cDTn/f2xN0ug5mYa3WDpC36p8P2iQ4IrZEp7BqFEiQSstbZd+Im4qpaBRlHnWZhym5oOqY2a4JVsrAtyTObYFM/+/eEtQ/0Bl6UxeRKkWWPuZwbtYREEnbJ2VwLzvIJEBDVkZcccY58TO8LAAAAFQC41GJzzSEGbZLDCu2Fgzo3iml/ZQAAAIBpWqD1HHm5gTyp/6h+hCEDMP1cOOl11e+f4ZO+vhpYm+AXqpEbmMr2UTSBlc93PdJRxiIAIKidWmcLaaSuLDYWoeDDcFGCclz9bCoXZmeOVoAe096jyNFPZGorb7mqnif3oRI5hkqsmph2AX/9n90taaLUF5VrgJVEAOPLkjZ+IAAAAIEAsc7MCMYn7phJIACMypSeeWkmjUisRxVEp6u6WWHQ3GsImNkjR7UmFVxnpYOikexsPsbhlXahTIas7SQiPNRsgxi2nDBwauEvkRHQID5LbjFiIp97xbrSg8T0H23MXlBbI/MycFcyuxBIUOL5zSrz8CcUG6uQtLDMGAEVkCHORCU= root@slave1</span><br><span class="line">ssh-dss AAAAB3NzaC1kc3MAAACBANwhno/+fLpWNOg1NOrBQ+qs7XWLZeu+Xxl/g5eJOD9+qaQKTWLOYfgyez38cpqjZ9r39tKRR5HQ7RVlM0tJicGgz+jCdtRoQKs6W5mc3SCmW+u+ILMxxTqdUHUKsNq4NauoVcSduq4ot8HKpi2GBGWE1MCNgCaSnH6TB8tvl49lAAAAFQCnfx5p+/KbSsrlSFo9BYuAhEuI7QAAAIA4lsxJjI3bn/FQsSjzcjIyRLiut432/i/QngE7Y9UwQGXKY9x8z7EksXDpdswo2M2cBSZsrelSnoiUYHjusSfMTptzdT8WUWCutCd7Kn1zU4fPJCM4gTNuECjHaWU/t7BVJXHGkB6eWErcHxnm6iILVLCFf9wm8oPMjRJmLLQGhQAAAIEAkA+YrcoTQfuZbS8ACHN3zkvg1/gAmx26owiZsMrSaV1rbrJ6WgWCX+Ux9CHIkKK4MZrJrXVQpoal5/PEPw0OCZepCHOGVLNcrhyhKNov1EzSC664Mb0l+9bHh+zXjv/X0yrMB1bY16eNMBCnx0YsJ5vuXZtZRg9ms6dEh5eA/LY= root@slave2</span><br></pre></td></tr></table></figure>
<p>4.分发给另外两台子节点</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/.ssh# scp ./authorized.keys root@slave1:/root/.ssh/</span><br><span class="line">root@master:~/.ssh# scp ./authorized.keys root@slave2:/root/.ssh/</span><br></pre></td></tr></table></figure>
<p>5.测试免密登录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh master</span><br><span class="line">ssh slave1</span><br><span class="line">ssh slave2</span><br></pre></td></tr></table></figure>
<h3 id="四-安装jdk"><a href="#四-安装jdk" class="headerlink" title="四.安装jdk"></a>四.安装jdk</h3><p>1.解压</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/jdk/jdk1.8.0_11# tar -zxvf jdk-8u11-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>
<p>2.分发给其余子节点</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp -r /root/software/jdk/jdk1.8.0_11/ root@slave1:/root/software/jdk/</span><br><span class="line">cp -r /root/software/jdk/jdk1.8.0_11/ root@slave2:/root/software/jdk/</span><br></pre></td></tr></table></figure>
<p>3.配置环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/jdk/jdk1.8.0_11# gedit /root/.bashrc </span><br></pre></td></tr></table></figure>
<p>配置如下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">JAVA_HOME</span></span><br><span class="line">export JAVA_HOME=/root/software/jdk/jdk1.8.0_11</span><br><span class="line">export PATH=$JAVA_HOME/bin:$PATH</span><br></pre></td></tr></table></figure>
<p>分发给其他节点,也可以直接配置</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/jdk/jdk1.8.0_11# scp -r /root/.bashrc root@slave1:/root/</span><br><span class="line">root@master:~/software/jdk/jdk1.8.0_11# scp -r /root/.bashrc root@slave2:/root/</span><br></pre></td></tr></table></figure>
<p>4.刷新环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/jdk/jdk1.8.0_11# source /root/.bashrc </span><br></pre></td></tr></table></figure>
<p>5.测试<br>如下回显则表示成功</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/jdk/jdk1.8.0_11# java -version</span><br><span class="line">java version &quot;1.8.0_11&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_11-b12)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.11-b03, mixed mode)</span><br></pre></td></tr></table></figure>
<h3 id="五-安装hadoop"><a href="#五-安装hadoop" class="headerlink" title="五.安装hadoop"></a>五.安装hadoop</h3><p>1.解压</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop# tar -zxvf hadoop-2.7.3.tar.gz</span><br></pre></td></tr></table></figure>
<p>2.配置环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop# gedit /root/.bashrc </span><br></pre></td></tr></table></figure>
<p>配置如下</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="language-bash">HADOOP_HOME</span></span><br><span class="line">export HADOOP_HOME=/root/software/hadoop/hadoop-2.7.3</span><br><span class="line">export PATH=$HADOOP_HOME/bin:$HADOOP/sbin:$PATH</span><br></pre></td></tr></table></figure>
<p>分发给子节点</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop# scp -r /root/.bashrc root@slave1:/root/</span><br><span class="line">root@master:~/software/hadoop# scp -r /root/.bashrc root@slave2:/root/</span><br></pre></td></tr></table></figure>
<p>刷新环境变量</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop# source /root/.bashrc </span><br></pre></td></tr></table></figure>
<p>3.创建hadoopdata目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3# mkdir hadoopdata</span><br></pre></td></tr></table></figure>
<p>4.配置hadoop-env.sh文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# cd etc/hadoop/</span><br><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit hadoop-env.sh </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">找到</span><br><span class="line">export JAVA_HOME=$&#123;JAVA_HOME&#125;</span><br><span class="line">修改为</span><br><span class="line">export JAVA_HOME=/root/software/jdk/jdk1.8.0_11</span><br></pre></td></tr></table></figure>
<p>5.配置yarn-env.sh</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit yarn-env.sh </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">找到</span><br><span class="line"><span class="meta">#</span><span class="language-bash"><span class="built_in">export</span> JAVA_HOME=/home/y/libexec/jdk1.6.0/</span></span><br><span class="line">修改为</span><br><span class="line">export JAVA_HOME=/root/software/jdk/jdk1.8.0_11</span><br></pre></td></tr></table></figure>
<p>6.配置核心组件core-site.xml </p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit core-site.xml </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;fs.defaultFS&lt;/name&gt;</span><br><span class="line">&lt;value&gt;hdfs://master:9000&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;hadoop.tmp.dir&lt;/name&gt;</span><br><span class="line">&lt;value&gt;/root/software/hadoop/hadoop-2.7.3/hadoopdata&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>7.配置配置文件系统hdfs-site.xml</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit hdfs-site.xml </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">	&lt;property&gt;</span><br><span class="line">		&lt;name&gt;dfs.replication&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;2&lt;/value&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">	&lt;property&gt;</span><br><span class="line">		&lt;name&gt;dfs.namenode.rpc-address&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;master:50071&lt;/value&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>8.配置文件系统yarn-site.xm</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit yarn-site.xm</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">		&lt;name&gt;yarn.nodemanager.aux-services&lt;/name&gt;</span><br><span class="line">		&lt;value&gt;mapreduce_shuffle&lt;/value&gt;</span><br><span class="line">	&lt;/property&gt;</span><br><span class="line">	&lt;property&gt;</span><br><span class="line">                &lt;name&gt;yarn.resourcemanager.address&lt;/name&gt;</span><br><span class="line">                &lt;value&gt;master:18040&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">	&lt;property&gt;                &lt;name&gt;yarn.resourcemanager.scheduler.address&lt;/name&gt;</span><br><span class="line">                &lt;value&gt;master:18030&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">	&lt;property&gt;</span><br><span class="line">                &lt;name&gt;yarn.resourcemanager.resource-tracker.address&lt;/name&gt;</span><br><span class="line">                &lt;value&gt;master:18025&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">	&lt;property&gt;                &lt;name&gt;yarn.resourcemanager.admin.address&lt;/name&gt;</span><br><span class="line">                &lt;value&gt;master:18141&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line">	&lt;property&gt;                &lt;name&gt;yarn.resourcemanager.webapp.address&lt;/name&gt;</span><br><span class="line">                &lt;value&gt;master:18088&lt;/value&gt;</span><br><span class="line">        &lt;/property&gt;</span><br><span class="line"></span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>9.配置计算框架mapred-site.xml</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# cp mapred-site.xml.template mapred-site.xml</span><br><span class="line"></span><br><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit mapred-site.xml</span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;configuration&gt;</span><br><span class="line">&lt;property&gt;</span><br><span class="line">&lt;name&gt;mapreduce.framework.name&lt;/name&gt;</span><br><span class="line">&lt;value&gt;yarn&lt;/value&gt;</span><br><span class="line">&lt;/property&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></figure>
<p>10.配置slaves文件</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# gedit slaves </span><br></pre></td></tr></table></figure>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">master</span><br><span class="line">slave1</span><br><span class="line">slave2</span><br></pre></td></tr></table></figure>
<p>11.分发给子节点</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# scp -r /root/software/hadoop/hadoop-2.7.3/ root@slave2:/root/software/hadoop/</span><br></pre></td></tr></table></figure>
<p>12.格式化namanode</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/etc/hadoop# hdfs namenode -format</span><br></pre></td></tr></table></figure>
<p>13.启动hadoop</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">进入sbin目录下执行</span><br><span class="line"></span><br><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/sbin# ./start-all.sh </span><br><span class="line"></span><br><span class="line">执行命令后，提示出入yes/no时，输入yes。</span><br></pre></td></tr></table></figure>
<p>14.测试</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/sbin# jps</span><br></pre></td></tr></table></figure>
<p>有以下进程表示搭建成功!</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">root@master:~/software/hadoop/hadoop-2.7.3/sbin# jps</span><br><span class="line">4848 SecondaryNameNode</span><br><span class="line">4999 ResourceManager</span><br><span class="line">4489 NameNode</span><br><span class="line">4650 DataNode</span><br><span class="line">5423 Jps</span><br><span class="line">5135 NodeManager</span><br></pre></td></tr></table></figure>
<p>15.web端查看</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在Master上启动Firefox浏览器，在浏览器地址栏中输入输入http://master:50070/,有如下回显表示成功</span><br></pre></td></tr></table></figure>

<p><img src="/2022/03/01/ubuntu%E4%B8%8Bhadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/QQ20220301-220428.png" alt="1"></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在Master上启动Firefox浏览器，在浏览器地址栏中输入输入http://master:18088/，检查 Yarn是否正常，页面如下图所示。</span><br></pre></td></tr></table></figure>
<p><img src="/2022/03/01/ubuntu%E4%B8%8Bhadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/QQ20220301-220440.png" alt="2"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/01/ubuntu%E4%B8%8Bhadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/" data-id="cl098tozu0001conk4w5d3nyq" data-title="ubuntu下hadoop集群搭建" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="centos下hadoop环境集群搭建-centos下hadoop环境集群搭建" class="h-entry article article-type-centos下hadoop环境集群搭建" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/01/centos%E4%B8%8Bhadoop%E7%8E%AF%E5%A2%83%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/" class="article-date">
  <time class="dt-published" datetime="2022-03-01T12:26:42.000Z" itemprop="datePublished">2022-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/01/centos%E4%B8%8Bhadoop%E7%8E%AF%E5%A2%83%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/">centos下hadoop环境集群搭建</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.5.15 (465828)"/><meta name="author" content="。"/><meta name="created" content="2021-04-15 05:16:08 +0000"/><meta name="source" content="desktop.win"/><meta name="source-application" content="yinxiang.win32"/><meta name="source-url" content="file:///D:/desktop/大赛/大数据实验上机手册2020-12-6.docx"/><meta name="updated" content="2021-04-22 11:45:19 +0000"/><title>大数据集群环境搭建</title></head><body><div><b style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165); font-size: 14pt; font-weight: bold;-evernote-highlight:true;">&nbsp;&nbsp;本环境所有设置皆在root用户下进行</span></span></span></span></span></span></b></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt;">1.基本环境设置</span></div><div><span style="font-size: 14pt;">1.2修改主机名(三个节点皆要设置,master,slave1,slave2)</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">hostnamectl set-hostname master</font></div></div><div><span style="font-size: 14pt;"><img src="1FBB3BA3-C090-4285-9EC3-FB8BF9EE55AC.png" height="58" width="586"/></span></div><div><span style="font-size: 14pt;">重启后生效</span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">1.3修改ip为静态,并使虚拟机和物理机互相通信,三个节点之间也要互相通信</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">vim /etc/sysconfig/network-scripts/ifcfg-ens33</font></div><div><font style="font-size: 14pt;">BOOTPROTO=static 修改ip获取方式为静态</font></div><div><font style="font-size: 14pt;">ONBOOT=yes 自动连接网络</font></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 14pt;">下面为ip地址,子网掩码,网关</font></span></div></div><div><span style="font-size: 14pt;"><img src="DEB9A8D4-E436-4208-99C2-04087A31F181.png" height="335" width="621"/></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">1.4编辑vmware网络配置</span></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="ED9052F8-D0F0-42DA-B35E-5A73A6C132B8.png" height="689" width="662"/></span></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="A4D3515C-C287-40E5-B694-4C1ACB03EF9B.png" height="536" width="604"/></span></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="3AFBB15F-F8FB-4E13-929D-8CD5DAECDDEA.png" height="533" width="508"/></span></div><div><span style="font-size: 14pt;">修改物理机网络配置</span></div><div><span style="font-size: 14pt;"><img src="62BE734A-2C1C-47E8-A3FA-AACBA929AC1D.png" height="685" width="1017"/></span></div><div><span style="font-size: 14pt;">修改完成后重启网络服务</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">service network restart</font></div></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="36E7389F-C914-43D7-99F1-C24EFEBB9565.png" height="57" width="810"/></span></div><div><span style="font-size: 14pt;">查看ip地址(符合上面配置文件修改就没问题)</span></div><div><span style="font-size: 14pt;"><img src="249A72EF-F7AA-4AC6-A3CE-93D944D2E4DF.png" height="171" width="796"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">1.5修改hosts文件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">vim /etc/hosts</font></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 14pt;">在后面添加三条</font></span></div></div><div><span style="font-size: 14pt;"><img src="92CF6043-9AB2-4097-B02A-82196CBE30B8.png" height="125" width="890"/></span></div><div><span style="font-size: 14pt;">此处slave2为192.168.10.130</span></div><div><span style="font-size: 14pt; font-weight: bold;">1.6关闭防火墙</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">systemctl stop firewalld.service</font></div><div><font style="font-size: 14pt;">systemctl disable firewalld.service&nbsp;&nbsp;&nbsp;&nbsp; //永久关闭 </font></div></div><div><span style="font-size: 14pt;"><img src="EA1BCD35-3A8B-47D2-A78D-9D75BC2BB2D7.png" height="99" width="847"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">1.7用物理机ping master</span></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="A2C8F8E4-836E-4404-BAF1-59CC7AF2F5A8.png" height="200" width="706"/></span></div><div><span style="font-size: 14pt;">ping通表示没问题</span></div><div><span style="font-size: 14pt; font-weight: bold;">1.8配置jdk</span></div><div><span style="font-size: 14pt;">将jdk压缩包解压</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">tar -zxvf jdk-8u11-linux-x64.tar.gz</font></div></div><div><span style="font-size: 14pt;"><img src="51F0E704-4ABD-4DF1-BD2D-1581F5B709C4.png" height="148" width="707"/></span></div><div><span style="font-size: 14pt; color: rgb(51, 51, 51); font-family: Monaco;">卸载自带的jdk,先查看自带的jdk</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">rpm -qa|grep jdk</font></div></div><div><span style="font-size: 14pt; color: rgb(51, 51, 51); font-family: Monaco;"><img src="AF2EC0DC-A12A-419A-9C71-EFCEF53065ED.png" height="135" width="569"/></span></div><div><span style="font-size: 14pt; color: rgb(51, 51, 51); font-family: Monaco;">卸载</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">yum -y remove jdk-1*</font></div></div><div><span style="font-size: 14pt;"><img src="ADFF3F3D-74FE-4139-9C35-3DE271EEB59E.png" height="429" width="1155"/></span></div><div><span style="font-size: 14pt;">编辑环境变量,添加java变量</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">vim /etc/profile</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">#java</font></div><div><font style="font-size: 14pt;">export JAVA_HOME=/root/software/jdk1.8.0_11</font></div><div><font style="font-size: 14pt;">export PATH=$JAVA_HOME/bin:$PATH</font></div></div><div><span style="font-size: 14pt;"><img src="D4A6D131-7277-4339-82C5-54B68CF8DAE5.png" height="650" width="761"/></span></div><div><span style="font-size: 14pt;">更新环境变量并测试</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">source /etc/profile</font></div><div><font style="font-size: 14pt;">java -version</font></div></div><div><span style="font-size: 14pt;"><img src="53350AEA-79FB-4F62-AE56-6C01FB6E1BD7.png" height="119" width="666"/></span></div><div><span style="font-size: 14pt; color: rgb(51, 51, 51); font-family: Monaco;">与安装的版本一样说明成功</span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; color: rgb(51, 51, 51); font-family: Monaco; font-weight: bold;">1.9</span></div><div><span style="font-size: 14pt; color: rgb(51, 51, 51); font-family: Monaco;">配置时钟同步</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">tzselect</font></div></div><div><span style="font-size: 14pt;"><img src="485A35B0-14DA-4B34-888E-060DCDAC6D2B.png" height="600" width="862"/></span></div><div><span style="font-size: 14pt;"><img src="0507FAC0-2CAD-48B8-8A13-61E11A2EC31A.png" height="581" width="787"/></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">2.配置ssh免密登录</span></div><div><span style="font-size: 14pt;">将master虚拟机复制两份成slave1和slave2并配置ip和主机名</span></div><div><span style="font-size: 14pt;"><img src="6D81A227-A3F7-43E4-A997-F03AD41B5FB1.png" height="66" width="666"/></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">2.1生成ssh公钥和私钥(三个节点都要生成)</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">ssh-keygen -t dsa</font></div></div><div><span style="font-size: 14pt;">回车确定</span></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="A9B92A27-0886-433C-B83A-1CAAF2A00911.png" height="402" width="762"/></span></div><div><span style="font-size: 14pt;">进入ssh目录</span></div><div><span style="font-size: 14pt;"><img src="5742C6F1-C6DE-4C88-965D-0EFBC278DF3C.png" height="77" width="484"/></span></div><div><span style="font-size: 14pt;">将id_dsa.pub写入authorized_keys文件</span></div><div><span style="font-size: 14pt;"><img src="BA856C27-B49E-4466-B3CD-4603C70ED3F5.png" height="100" width="638"/></span></div><div><span style="font-size: 14pt;">测试本地ssh回环登录</span></div><div><span style="font-size: 14pt;"><img src="9A216A6C-2CB0-47A6-B56B-B34DF4151123.png" height="144" width="921"/></span></div><div><span style="font-size: 14pt;">输入yes</span></div><div><span style="font-size: 14pt;">不需要密码即可登录</span></div><div><span style="font-size: 14pt;">将另外两个子节点(slave1和slave2)的d_dsa.pub文件内容复制进主节点(master)的authorized_keys文件</span></div><div><span style="font-size: 14pt;"><img src="92FFF701-9366-447A-8CDA-F6135987A2C3.png" height="583" width="1275"/></span></div><div><span style="font-size: 14pt;"><img src="17FC44C9-11C6-4FFC-8C42-E750246D92B6.png" height="350" width="1283"/></span></div><div><span style="font-size: 14pt;">将authorized_keys文件复制两个子节点.ssh目录下</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">scp -r master:/root/.ssh/authorized_keys /root/.ssh/</font></div></div><div><span style="font-size: 14pt;"><img src="99625E7D-5FFB-4BEB-8D79-250FB0E77004.png" height="127" width="1175"/></span></div><div><span style="font-size: 14pt;">可以看到已经免密登录了,就不在测试了</span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">3.安装mysql(只在master节点)</span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">3.1首先先卸载系统自带的mariadb数据库</span></font></div><div><span style="font-size: 14pt;"><img src="7736B061-7284-4AC0-B0DF-6FA31BEA6E95.png" height="184" width="634"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">3.2将安装文件复制进虚拟机额解压</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">unzip mysql-5.7.18-1.el7.x86_64.rpm-bundle.zip</font></div></div><div><span style="font-size: 14pt;"><img src="B2C3F69F-1FF7-4D45-9C75-CF8487A40F73.png" height="162" width="1133"/></span></div><div><span style="font-size: 14pt;">进入安装目录安装</span></div><div><span style="font-size: 14pt;"><img src="BCCE33B2-774E-4290-A9BD-C0F5EB1AF64D.png" height="61" width="1073"/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">rpm -ivh mysql-community-common-5.7.18-1.el7.x86_64.rpm</font></div><div><font style="font-size: 14pt;">rpm -ivh mysql-community-libs-5.7.18-1.el7.x86_64.rpm</font></div><div><font style="font-size: 14pt;">rpm -ivh mysql-community-client-5.7.18-1.el7.x86_64.rpm</font></div><div><font style="font-size: 14pt;">rpm -ivh mysql-community-server-5.7.18-1.el7.x86_64.rpm</font></div><div><font style="font-size: 14pt;">按照此顺序安装</font></div></div><div><span style="font-size: 14pt;"><img src="C21331A4-844E-423C-8DE4-2EB436DC63EB.png" height="437" width="1148"/></span></div><div><span style="font-size: 14pt;">启动数据库并设置开机自启</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">systemctl start mysqld</font></div><div><font style="font-size: 14pt;">systemctl enable mysqld</font></div></div><div><span style="font-size: 14pt;"><img src="BB32BABE-316E-4E12-B09C-1A18B87FF14A.png" height="37" width="750"/></span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);font-size: 14pt;-evernote-highlight:true;">1关闭mysql密码强度策略(方便后续修改密码),2设置导入导出路径,3设置阿森纳电缆佛i和,4设置mysql编码</span></span></span></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">validate_password=off</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">secure_file_priv=''</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">sql-mode=''</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">[mysqld]</font></div><div><font style="font-size: 14pt;">character_set_server=utf8</font></div><div><font style="font-size: 14pt;">init_connect='SET NAMES utf8'</font></div></div><div><span style="font-size: 14pt;"><img src="4F9EBC42-86E7-4C67-A2AB-E0C645548864.png" height="649" width="963"/></span></div><div><span style="font-size: 14pt;">重启数据库服务</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">systemctl restart mysqld</font></div></div><div><span style="font-size: 14pt;"><img src="A4625AEE-6999-440F-B23E-3E288D34A943.png" height="43" width="787"/></span></div><div><span style="font-size: 14pt;">查看mysql临时密码</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">grep 'temporary password' /var/log/mysqld.log</font></div></div><div><span style="font-size: 14pt;"><img src="1A8B950F-4513-40C2-941E-45A081AB01B7.png" height="70" width="1124"/></span></div><div><span style="font-size: 14pt;">登录数据库(使用上面的临时密码)</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">mysql -u root -p</font></div></div><div><span style="font-size: 14pt;"><img src="FA968571-E0FC-4112-AD35-F0E9976106A8.png" height="278" width="870"/></span></div><div><span style="font-size: 14pt;">修改root用户密码为123456</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">set password for root@localhost ='123456';</font></div></div><div><span style="font-size: 14pt;"><img src="5A17E93C-B058-43DC-802D-9262342DB081.png" height="94" width="586"/></span></div><div><span style="font-size: 14pt;">查看上面配置文件是否修改成功</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">show variables like "%password%";</font></div></div><div><span style="font-size: 14pt;"><img src="742D6EC3-6D72-4AE6-9AFB-809EDAB294AF.png" height="255" width="613"/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">show variables like "%character%";</font></div></div><div><span style="font-size: 14pt;"><img src="AA04E353-10B1-48F6-9790-75F06520A74F.png" height="300" width="674"/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">show variables like "%secure_file_priv%";</font></div></div><div><span style="font-size: 14pt;"><img src="F9077987-2DE7-48F7-8C64-B0AC4ED284F0.png" height="173" width="835"/></span></div><div><span style="font-size: 14pt;">创建hadoop用户并给予所有权限,和不限制登录地址密码为123456</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">grant all on *.* to hadoop@'localhost' identified by '123456';</font></div><div><font style="font-size: 14pt;">grant all on *.* to hadoop@'%' identified by '123456';</font></div><div><font style="font-size: 14pt;">grant all on *.* to hadoop@'master' identified by '123456';</font></div></div><div><span style="font-size: 14pt;"><img src="278C6E40-B210-4C45-A92B-5A744B9E5808.png" height="198" width="760"/></span></div><div><span style="font-size: 14pt;">查看是否修改成功</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">select user,host from mysql.user;</font></div></div><div><span style="font-size: 14pt;"><img src="FA3A5657-3E0B-4165-9A08-1871ABAC785E.png" height="252" width="534"/></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">4安装hadoop(三个节点)</span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">4.1解压并进入下面的路径</span></font></div><div><span style="font-size: 14pt;"><img src="C2AB90F5-89B4-4321-917D-B7C9E3D73452.png" height="209" width="1174"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">4.2配置hadoop-env.sh文件</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">vim&nbsp;&nbsp;hadoop-env.sh</font></div><div><font style="font-size: 14pt;">将下面那行替换为java安装目录</font></div><div><font style="font-size: 14pt;">export JAVA_HOME=/root/software/jdk1.8.0_11</font></div></div><div><span style="font-size: 14pt;"><img src="41758B64-57FD-4F91-8C2E-164A89A4777A.png" height="479" width="617"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">4.3配置yarn-env.sh</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">export JAVA_HOME=/root/software/jdk1.8.0_11</font></div><div><font style="font-size: 14pt;">替换为java的家目录</font></div></div><div><span style="font-size: 14pt;"><img src="6DD57B3B-F844-4D31-872F-9BFFDAEB9C97.png" height="373" width="601"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">4.4配置core-site.xml文件</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">用下面文件替换core-site.xml里面的内容</font></div><div><font style="font-size: 14pt;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;!-- Put site-specific property overrides in this file. --&gt;</font></div><div><font style="font-size: 14pt;">&lt;configuration&gt;</font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>fs.defaultFS</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>hdfs://master:9000</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>hadoop.tmp.dir</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>/root/software/hadoop-2.7.3/hadoopdata</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&lt;/configuration&gt;</font></div></div><div><span style="font-size: 14pt;">到hadoop目录新建hadoopdata目录</span></div><div><span style="font-size: 14pt;"><img src="D1F59ED3-9D1F-4FB7-BC99-5ED3D2AE2A4B.png" height="129" width="814"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">4.5配置hdfs-site.xml文件</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">用下面代码替换里面的内容</font></div><div><font style="font-size: 14pt;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;!-- Put site-specific property overrides in this file. --&gt;</font></div><div><font style="font-size: 14pt;">&lt;configuration&gt;</font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>dfs.replication</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>2</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&lt;/configuration&gt;</font></div></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">4.6配置yarn-site.xml文件</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">用下面代码替换里面的内容</font></div><div><font style="font-size: 14pt;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;!-- Put site-specific property overrides in this file. --&gt;</font></div><div><font style="font-size: 14pt;">&lt;configuration&gt;</font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>yarn.nodemanager.aux-services</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>mapreduce_shuffle</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>yarn.resourcemanager.address</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>master:18040</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>yarn.resourcemanager.scheduler.address</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>master:18030</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>yarn.resourcemanager.resource-tracker.address</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>master:18025</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>yarn.resourcemanager.admin.address</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>master:18141</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>yarn.resourcemanager.webapp.address</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>master:18088</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&lt;/configuration&gt;</font></div></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">4.7配置mapred-site.xml</span></font></div><div><span style="font-size: 14pt;">将mapred-site.xml.template复制一份</span></div><div><span style="font-size: 14pt;"><img src="127A74D3-3C1D-4D1A-99CB-4C3BB45F79F0.png" height="49" width="735"/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 14pt;">用下面代码替换里面的内容</font></span></div><div><font style="font-size: 14pt;">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;!-- Put site-specific property overrides in this file. --&gt;</font></div><div><font style="font-size: 14pt;">&lt;configuration&gt;</font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>mapreduce.framework.name</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>yarn</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&lt;/configuration&gt;</font></div></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">4.8配置</span></font></div><div><span style="font-size: 14pt;">slaves文件,将集群内所有的主机都填进去</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">master</font></div><div><font style="font-size: 14pt;">slave1</font></div><div><font style="font-size: 14pt;">slave2</font></div></div><div><span style="font-size: 14pt;"><img src="FE1C2BDA-F17C-448E-B929-8F0B1FBCD8DA.png" height="132" width="351"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">4.9将hadoop文件复制到两个子节点</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">scp -r master:/root/software/hadoop-2.7.3 ./</font></div></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">4.10配置hadoop环境变量(仅master)</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">#hadoop</font></div><div><font style="font-size: 14pt;">export HADOOP_HOME=/root/software/hadoop-2.7.3</font></div><div><font style="font-size: 14pt;">export PATH=$HADOOP_HOME/bin:$HADOOP_HOME/sbin:$PATH</font></div></div><div><span style="font-size: 14pt;"><img src="07889137-FA2D-48C1-9299-DEC3E181C58D.png" height="153" width="679"/></span></div><div><span style="font-size: 14pt;">刷新环境变量</span></div><div><span style="font-size: 14pt;"><img src="A8C7C52E-EA39-4BF7-8EAB-29DB2E01C107.png" height="37" width="460"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">4</span><span style="font-size: 14pt; color: unset; font-family: unset; font-weight: bold;">.12启动hadoop集群</span></font></div><div><span style="font-size: 14pt;">格式化文件系统</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">hdfs namenode -format</font></div></div><div><span style="font-size: 14pt;"><img src="BF8214D0-C11F-4456-AFD4-BB8F101FCE20.png" height="335" width="1137"/></span></div><div><span style="font-size: 14pt;">启动hadoop</span></div><div><span style="font-size: 14pt;"><img src="7DF63C78-D4D0-4CF4-BFA1-45843A4E801F.png" height="261" width="1187"/></span></div><div><span style="font-size: 14pt;">使用jps查看master是否有如下进程</span></div><div><span style="font-size: 14pt;"><img src="4726F688-65A5-4775-807A-9214F6136EDC.png" height="155" width="379"/></span></div><div><span style="font-size: 14pt;">slave1和slave2一致</span></div><div><span style="font-size: 14pt;"><img src="AE038E5F-B373-46C4-85CA-B1222ADAA325.png" height="106" width="512"/><img src="4C6DF343-4AB4-46B4-B16F-3B58D9EADA8B.png" height="106" width="407"/></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt;">在web端查看,在历览器地址栏输入</span></div><div><span style="font-size: 14pt;">master:50070</span></div><div><span style="font-size: 14pt;"><img src="BA2C3462-525C-46C8-845C-216279EA1DD6.png" height="519" width="851"/></span></div><div><span style="font-size: 14pt;">说明安装无误</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);font-size: 14pt;-evernote-highlight:true;">如果遇到jps无namenode进程则删除/tmp/下的所有内容,在删除Hadooptada下的所有文件,再重新格式化文件系统后再重启hadoop</span></span></span></span></span></span></div><div><span style="font-size: 14pt;"><img src="8E1EB714-09AA-4F41-B5CF-A04F7B556C0C.png" height="299" width="1164"/></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">5安装hive数据(仅master)</span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">5.1安装hive数据库要在安装MySQL的基础上,上文已经安装mysql,直接将hive安装包解压</span></font></div><div><span style="font-size: 14pt;"><img src="5652EF65-AB3A-4BBA-982E-FE1B64AC0D88.png" height="81" width="1017"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">5.2进入mysql数据库</span></font></div><div><span style="font-size: 14pt;">创建数据库</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">create database hive_21;</font></div></div><div><span style="font-size: 14pt;"><img src="EC013AD4-7935-4C2C-9914-69F7016A4F14.png" height="297" width="546"/></span></div><div><span style="font-size: 14pt;">刷新权限</span> <span style="font-size: 14pt; font-family: 微软雅黑, sans-serif;">flush privileges;</span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">5.3进入配置修改配置文件</span></font></div><div><span style="font-size: 14pt;"><img src="146CB841-AE6A-4E10-802F-C31DBC4124BC.png" height="112" width="1117"/></span></div><div><span style="font-size: 14pt;">创建一个hive-site.xml文件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">将下面代码写入</font></div><div><font style="font-size: 14pt;">&lt;?xml version="1.0"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;configuration&gt;</font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>hive.metastore.local</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>true</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>javax.jdo.option.ConnectionURL</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>jdbc:mysql://master:3306/hive_21?createDatabaseIfNotExist=true&amp;characterEncoding=UTF-8&amp;useSSL=false</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>javax.jdo.option.ConnectionDriverName</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>com.mysql.jdbc.Driver</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>javax.jdo.option.ConnectionUserName</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>hadoop</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>javax.jdo.option.ConnectionPassword</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>123456</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&lt;/configuration&gt;</font></div></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">5.4将数据库连接文件导入/root/software/hive-2.1.1-bin/lib/</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">cp mysql-connector-java-5.1.41.jar /root/software/hive-2.1.1-bin/lib/</font></div></div><div><span style="font-size: 14pt;"><img src="59C1CD56-DE10-4DA7-9338-2CFF058E7145.png" height="216" width="1159"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">5.5编辑环境变量</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 14pt;">#hive</font></span></div><div><font style="font-size: 14pt;">export HIVE_HOME=//root/software/hive-2.1.1-bin</font></div><div><font style="font-size: 14pt;">export PATH=$PATH:$HIVE_HOME/bin</font></div></div><div><span style="font-size: 14pt;"><img src="07E5897C-DBCB-4E70-8789-197814B2130E.png" height="222" width="783"/></span></div><div><span style="font-size: 14pt;">刷新环境变量</span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">5.6初始化</span></font></div><div><span style="font-size: 14pt;">进入目录下的/bin<img src="A7DE4821-A122-463A-A08D-DF2E50CA3234.png" height="120" width="1033"/></span></div><div><span style="font-size: 14pt;">执行</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">./schematool --initSchema --dbType mysql</font></div></div><div><span style="font-size: 14pt;"><img src="A94B46B3-B25A-464C-AD70-48C5CAFCB16B.png" height="312" width="973"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">5.7启动hive验证安装</span></font></div><div><span style="font-size: 14pt;"><img src="12735DC5-6897-4542-B0FC-5BBE7AC5C925.png" height="296" width="1266"/></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">6安装zookeeper(所有节点)</span></div><div><font style="font-size: 14pt;"><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">该部分的安装需要在</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">Hadoop</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">已经成功安装的基础上</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">,</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">并且要求</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">Hadoop</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">已经正常启动。</span></font></div><div><span style="font-size: 14pt;">将安装包解压,并在目录下新建zk_datas目录</span></div><div><span style="font-size: 14pt;"><img src="C749E9CD-018B-4742-8A13-22E188F6781B.png" height="70" width="583"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">6.2修改目录名并进入conf目录</span></font></div><div><span style="font-size: 14pt;"><img src="C5CB01A0-1787-4F78-A358-7B52E14A1895.png" height="194" width="1099"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">6.3复制zoo_sample.cfg文件为zoo,cfg</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">cp zoo_sample.cfg zoo.cfg</font></div></div><div><span style="font-size: 14pt;"><img src="BAE6FFB0-4140-4B05-BBB2-4B39812285C3.png" height="44" width="587"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">6.4配置该文件</span></font></div><div><span style="font-size: 14pt;">将下面两条注释去掉,并添加一下代码</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">server.1=master:2888:3888</font></div><div><font style="font-size: 14pt;">server.2=slave01:2888:3888</font></div><div><font style="font-size: 14pt;">server.3=slave02:2888:3888</font></div></div><div><span style="font-size: 14pt;"><img src="85947726-F36B-400E-8165-1C3026BCBA38.png" height="638" width="772"/></span></div><div><span style="font-size: 14pt;">填写节点的ip地址</span></div><div><span style="font-size: 14pt; font-weight: bold;">在zookeeper目录下新建一个zk_datas目录</span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">6.5切换到zk_datas目录并myid文件写入1(</span><span style="background-color: rgb(255, 250, 165); font-size: 14pt; font-weight: bold;-evernote-highlight:true;">master为1,其他两个节点分别为2和3</span><span style="font-size: 14pt; font-weight: bold;">)</span></font></div><div><span style="font-size: 14pt;"><img src="EC899546-D3C7-4736-BD28-22991827AFDD.png" height="72" width="580"/></span></div><div><span style="font-size: 14pt;"><img src="DBEEE6AA-0DDB-41E5-B04B-87870DCF994B.png" height="122" width="215"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">6.6将zookeeper文件夹分别复制给slave1和slave2,都</span><span style="background-color: rgb(255, 250, 165); font-size: 14pt; font-weight: bold;-evernote-highlight:true;">要修改myid文件</span></font></div><div><span style="font-size: 14pt;"><img src="BA6874E5-8F14-4DC6-AB79-860D1D79328A.png" height="33" width="811"/></span></div><div><span style="font-size: 14pt;"><img src="6B279060-150E-4FAF-BA14-9749AC0F052C.png" height="118" width="562"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">6.6启动zookeeper(在所有节点)</span></font></div><div><span style="font-size: 14pt;"><img src="C8FBAE19-11C6-4B49-BB62-B9327A73314B.png" height="209" width="1124"/></span></div><div><span style="font-size: 14pt;">查看状态</span></div><div><span style="font-size: 14pt;"><img src="C2AF56C0-86F3-4AAA-A389-0E16C645ACF9.png" height="97" width="647"/></span></div><div><span style="font-size: 14pt;"><img src="8C308E3B-6F0B-4171-8BFA-6E2F51CCFC76.png" height="97" width="668"/></span></div><div><span style="font-size: 14pt;"><img src="FDC4E34E-D78E-4490-867D-9BB21E937948.png" height="89" width="730"/></span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);font-size: 14pt;-evernote-highlight:true;">如果出现启动错误或启动不了在配置文件无错下,则先删掉zk_datas下除了myid的所有文件,在杀掉2181端口进程在重启服务</span></span></span></span></span></span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);font-size: 14pt;-evernote-highlight:true;"><img src="C3B8ACAA-BAA6-47E4-A71C-86E84CDF7C03.png" height="294" width="1153"/></span></span></span></span></span></span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165);font-size: 14pt;-evernote-highlight:true;"><img src="62FEC15E-DF05-445D-BB2D-C4C045848F46.png" height="58" width="1030"/></span></span></span></span></span></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">7.安装hbase(所有节点)</span></div><div><font style="font-size: 14pt;"><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">该部分的安装需要在</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">Hadoop</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">已经成功安装的基础上</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">,</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">并且要求</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">Hadoop</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">已经正常启动。</span></font></div><div><span style="font-size: 14pt;">解压进入conf目录</span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">7.1修改配置文件hbase-env.sh</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">vim hbase-env.sh</font></div><div><font style="font-size: 14pt;">export JAVA_HOME=/root/software/jdk1.8.0_11</font></div></div><div><span style="font-size: 14pt;"><img src="C9D9A840-224E-4AEE-A855-882530CD0B72.png" height="90" width="1187"/></span></div><div><span style="font-size: 14pt;"><img src="ABA65763-BA2B-458F-9871-9C01F5442D80.png" height="312" width="673"/></span></div><div><span style="font-size: 14pt;">修改hbase-site.xml</span></div><div><span style="font-size: 14pt;"><img src="C3CCC9BE-82FB-44D4-898F-71FF2AE6565A.png" height="55" width="523"/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">将下面代码替换原先内容</font></div><div><font style="font-size: 14pt;">&lt;?xml version="1.0"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;?xml-stylesheet type="text/xsl" href="configuration.xsl"?&gt;</font></div><div><font style="font-size: 14pt;">&lt;configuration&gt;</font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>hbase.cluster.distributed</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>true</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>hbase.rootdir</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>hdfs://master:9000/hbase</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<property></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>hbase.zookeeper.quorum</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>master</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&lt;property&gt;</font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>hbase.master.info.port</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>60010</value></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</property></font></div><div><font style="font-size: 14pt;">&lt;/configuration&gt;</font></div></div><div><span style="font-size: 14pt;">设置</span><span style="text-indent: 21pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">将</span><span style="text-indent: 21pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">regionservers</span><span style="text-indent: 21pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">中的</span><span style="text-indent: 21pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">localhost</span><span style="text-indent: 21pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">修改为下面的内容：</span></div><div><br/></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">master</font></div><div><font style="font-size: 14pt;">slave1</font></div><div><font style="font-size: 14pt;">slave2</font></div></div><div><span style="font-size: 14pt;"><img src="0A2EBB27-410D-48B4-9110-BDACDCB1CC16.png" height="208" width="629"/></span></div><div><span style="font-size: 14pt;">7.2编辑环境变量(仅master)</span></div><div><span style="font-size: 14pt;"><img src="6B59A7C9-2BFE-419C-BDCE-9D79383077F2.png" height="48" width="449"/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">#hbase</font></div><div><font style="font-size: 14pt;">export HBASE_HOME=/root/software/hbase-1.2.6</font></div><div><font style="font-size: 14pt;">export PATH=$HBASE_HOME/bin:$PATH</font></div><div><font style="font-size: 14pt;">export HADOOP_CLASSPATH=$HBASE_HOME/lib/*</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="color: rgb(51, 51, 51); font-family: Monaco;"><font style="font-size: 14pt;">刷新环境变量</font></span></div><div><font style="font-size: 14pt;">source /etc/profile</font></div></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt;"><img src="C5428F3C-FE47-4C4B-BDD5-6D172BF36B9A.png" height="266" width="687"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">7.3将hbase复制到两个从节点</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">scp -r master:/root/software/hbase-1.2.6 ./</font></div></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">7.4启动hbase</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">./start-hbase.sh</font></div></div><div><span style="font-size: 14pt;"><img src="21434D3D-DF5A-4654-B5CD-9B7CECCFA470.png" height="283" width="1121"/></span></div><div><span style="font-size: 14pt;">在浏览器访问,说明安装成功</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">http://master:60010</font></div></div><div><span style="font-size: 14pt;"><img src="6CE053CD-CAA8-4B37-A885-F2A2C96D9E07.png" height="588" width="837"/></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">8.安装sqoop(仅master)</span></div><div><font style="font-size: 14pt;"><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">该部分的安装需要在</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">Hadoop</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">已经成功安装的基础上</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">,</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">并且要求</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">Hadoop</span><span style="text-indent: 24pt; font-size: 14pt; font-family: 微软雅黑, sans-serif;-en-paragraph:true;">已经正常启动。可通过访问下面地址知道是否启动hadoop</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">http://master:50070</font></div><div><font style="font-size: 14pt;">http://master:18088</font></div></div><div><span style="font-size: 14pt;">解压并进入安装目录</span></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="47586C4C-8ED0-42DE-A0B9-11F95316024C.png" height="131" width="1123"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">8.1将数据库连接文件复制到</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">/root/software/sqoop-1.4.6-cdh5.6.0/lib</font></div></div><div><span style="font-size: 14pt;"><img src="E5630256-900A-4FB3-86AC-AE4507D8FFAD.png" height="101" width="1119"/></span></div><div><span style="font-size: 14pt;"><img src="2F2EA867-4558-40FC-BDB8-6D65A547CD44.png" height="247" width="1132"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">8.2修改配置文件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">到conf目录下复制sqoop-env-template.sh为sqoop-env.sh</font></div></div><div><span style="font-size: 14pt;"><img src="0F501042-11EE-4F5C-8AAE-9DF54C69CE82.png" height="80" width="1128"/></span></div><div><span style="font-size: 14pt;">修改</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">将下面内容替换</font></div><div><font style="font-size: 14pt;">#Set path to where bin/hadoop is available</font></div><div><font style="font-size: 14pt;">export HADOOP_COMMON_HOME=/root/software/hadoop-2.7.3</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">#Set path to where hadoop-*-core.jar is available</font></div><div><font style="font-size: 14pt;">export HADOOP_MAPRED_HOME=/root/software/hadoop-2.7.3</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">#set the path to where bin/hbase is available</font></div><div><font style="font-size: 14pt;">export HBASE_HOME=/root/software/hbase-1.2.6</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">#Set the path to where bin/hive is available</font></div><div><font style="font-size: 14pt;">export HIVE_HOME=/root/software/hive-2.1.1-bin</font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;"><br/></font></div><div><font style="font-size: 14pt;">#Set the path for where zookeper config dir is</font></div><div><font style="font-size: 14pt;">#export ZOOCFGDIR=</font></div></div><div><span style="font-size: 14pt;"><img src="CD1CC30D-D5F0-4116-B809-64FC26184FA5.png" height="290" width="751"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">8.3启动并验证sqoop</span></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="AE6E1B39-76B8-427A-9963-13FCB0C5D90E.png" height="623" width="1059"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">表示安装成功</span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">9安装spark</span></div><div><span style="font-size: 14pt; font-weight: bold;">解压并进入安装目录</span></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="163430F5-5C3C-4288-812C-1349B90A7FB6.png" height="90" width="1062"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">9.1编辑环境变量(仅master)</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">vim /etc/profile</font></div><div><font style="font-size: 14pt;">添加下面内容</font></div><div><font style="font-size: 14pt;">#Spark</font></div><div><font style="font-size: 14pt;">export HADOOP_CONF_DIR=$HADOOP_HOME/etc/hadoop</font></div><div><font style="font-size: 14pt;">export HDFS_CONF_DIR=$HADOOP_HOME/etc/hadoop</font></div><div><font style="font-size: 14pt;">export YARN_CONF_DIR=$HADOOP_HOME/etc/hadoop</font></div><div><font style="font-size: 14pt;">刷新环境变量</font></div><div><font style="font-size: 14pt;">source /etc/profile</font></div></div><div><span style="font-size: 14pt;"><img src="92B6594D-23F8-4735-A822-645F217CF691.png" height="429" width="529"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">9.2编辑配置文件(三个节点都要配置)</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">vim /root/software/hadoop-2.7.3/etc/hadoop/yarn-site.xml</font></div><div><font style="font-size: 14pt;"><span style="color: rgb(51, 51, 51); font-family: Monaco;">添加下面内容到</span>&lt;configuration&gt;&lt;/configuration&gt;中</font></div><div><font style="font-size: 14pt;">&lt;property&gt;</font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>yarn.log-aggregation-enable</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>true</value></font></div><div><font style="font-size: 14pt;">&lt;/property&gt;</font></div><div><font style="font-size: 14pt;">&lt;property&gt;</font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>yarn.nodemanager.pmem-check-enabled</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>false</value></font></div><div><font style="font-size: 14pt;">&lt;/property&gt;</font></div><div><font style="font-size: 14pt;">&lt;property&gt;</font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<name>yarn.nodemanager.vmem-check-enabled</name></font></div><div><font style="font-size: 14pt;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<value>false</value></font></div><div><font style="font-size: 14pt;">&lt;/property&gt;</font></div></div><div><span style="font-size: 14pt;"><img src="47433CC9-74B9-4366-A3DA-8113B500ED43.png" height="196" width="1179"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">9.3重启hadoop集群使配置生效</span></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="9FD89F6F-6381-4460-901E-233BA8976FE0.png" height="114" width="748"/></span></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="274D3E4A-8F74-401E-93DA-34672E7BA83E.png" height="105" width="999"/></span></div><div><font style="font-size: 14pt;"><span style="font-size: 14pt; font-weight: bold;">访问</span></font></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">http://master:50070/&nbsp;&nbsp;&nbsp;&nbsp; 查看服务是否启动 </font></div></div><div><span style="font-size: 14pt; font-weight: bold;">9.4运行下面代码</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">./bin/spark-submit --class org.apache.spark.examples.SparkPi --master yarn-cluster --num-executors 3 --driver-memory 1g --executor-memory 1g --executor-cores 1 examples/jars/spark-examples*.jar 10</font></div></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="1791E8D2-304C-4B0F-B75E-60A884A05527.png" height="289" width="1206"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">查看执行结果需要在子节点上查看</span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">9.5</span></div><div><span style="font-size: 14pt; font-weight: bold;">执行</span> <span style="font-size: 14pt; font-family: 微软雅黑, sans-serif;">./bin/spark-shell</span></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="082BA635-D1A7-490C-BC6A-7FE6BF260704.png" height="587" width="1028"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">在浏览器访问</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">http://master:4040/j</font></div></div><div><span style="font-size: 14pt;"><img src="D9A475BB-414C-4E11-872E-AC8536D6B03E.png" height="347" width="699"/></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">10安装kafka(三个节点)</span></div><div><span style="font-size: 14pt;">解压并进入安装目录</span></div><div><span style="font-size: 14pt;">修改配置文件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;"><font>vim&nbsp;&nbsp;</font>/root/software/kafka_2.11-2.1.0<font>/config/server.properties</font></font></div><div><font style="font-size: 14pt;">zookeeper.connect=master:2181,slave1:2181,slave2:2181</font></div><div><font style="font-size: 14pt;">broker.id=0&nbsp;&nbsp;&nbsp;&nbsp; <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">master为0,slave1为1,slave2为2以此类推</span></font></div><div><font style="font-size: 14pt;">host.name=master&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">添加一条(三个节点名字各不相同为本机主机名)</span></font></div><div><font style="font-size: 14pt;"><br/></font></div></div><div><span style="font-size: 14pt;"><img src="3DF48CF2-0A6D-49B4-BE1D-ECEEC64E912F.png" height="167" width="590"/></span></div><div><span style="font-size: 14pt;"><img src="0FC66E6D-EC20-43A4-B825-3B3139C930F4.png" height="160" width="784"/></span></div><div><span style="font-size: 14pt;">将kafka复制到两个子节点,并修改配置文件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">scp -r master:/root/software/kafka_2.11-2.1.0/ ./</font></div></div><div><span style="font-size: 14pt;"><img src="9C7607F6-5E23-40D6-90E8-58B0543961C3.png" height="127" width="389"/><img src="4653EE02-7208-4820-81DF-397139C0A8F1.png" height="82" width="332"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">10.1启动kafka</span></div><div><span style="font-size: 14pt; font-weight: bold;">在三个节点都启动kafka</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 14pt;">bin/kafka-server-start.sh -daemon config/server.properties</span></div><div><font style="font-size: 14pt;">如果启动报错则执行</font></div><div><font style="font-size: 14pt;">./bin/kafka-server-start.sh config/server.properties &amp;</font></div></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="04823D8B-6AED-4E5E-8570-6BF0D79D2CFE.png" height="245" width="1018"/></span></div><div><font style="font-size: 14pt;"><br/></font></div><div><span style="font-size: 14pt; font-weight: bold;">11.安装flume</span></div><div><span style="font-size: 14pt;">解压并更名</span></div><div><span style="font-size: 14pt;"><img src="246F806B-2BC9-48D7-836F-C96702752B45.png" height="97" width="1120"/></span></div><div><span style="font-size: 14pt;">进入conf目录下,复制一份flume-env.sh.template为flume-env.sh并修改</span></div><div><span style="font-size: 14pt;"><img src="E7A9A324-5661-4E82-BCE4-380EB7FAED98.png" height="168" width="1052"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">11.1修改配置文件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">export JAVA_HOME=/root/software/jdk1.8.0_11</font></div></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="FB5F3F2A-DAD4-4BAB-84A2-22350FEE444D.png" height="108" width="435"/></span></div><div><span style="font-size: 14pt; font-weight: bold;">11.2测试是否安装成功</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 14pt;">./flume-ng version</font></div></div><div><span style="font-size: 14pt; font-weight: bold;"><img src="BF159973-AEE0-44F2-9BC1-B96C4DCAB8D1.png" height="193" width="745"/></span></div><div><span style="font-size: 14pt;">出现版本号表示安装成功</span></div></body></html>



      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/01/centos%E4%B8%8Bhadoop%E7%8E%AF%E5%A2%83%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/" data-id="cl098tozq0000conk5w2i0jh8" data-title="centos下hadoop环境集群搭建" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-hello-world" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/03/01/hello-world/" class="article-date">
  <time class="dt-published" datetime="2022-03-01T08:46:50.462Z" itemprop="datePublished">2022-03-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/03/01/hello-world/">Hello World</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>Welcome to <a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a target="_blank" rel="noopener" href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a target="_blank" rel="noopener" href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a target="_blank" rel="noopener" href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a target="_blank" rel="noopener" href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://example.com/2022/03/01/hello-world/" data-id="cl098tozw0002conk2zped9ow" data-title="Hello World" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/03/01/ubuntu%E4%B8%8Bhadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/">ubuntu下hadoop集群搭建</a>
          </li>
        
          <li>
            <a href="/2022/03/01/centos%E4%B8%8Bhadoop%E7%8E%AF%E5%A2%83%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA/">centos下hadoop环境集群搭建</a>
          </li>
        
          <li>
            <a href="/2022/03/01/hello-world/">Hello World</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>